\doxysection{src/inputoutput/keep\+All\+Changes.h File Reference}
\hypertarget{keepAllChanges_8h}{}\label{keepAllChanges_8h}\index{src/inputoutput/keepAllChanges.h@{src/inputoutput/keepAllChanges.h}}
{\ttfamily \#include $<$algorithm$>$}\newline
{\ttfamily \#include $<$ctime$>$}\newline
{\ttfamily \#include $<$filesystem$>$}\newline
{\ttfamily \#include $<$fstream$>$}\newline
{\ttfamily \#include $<$iostream$>$}\newline
{\ttfamily \#include $<$map$>$}\newline
{\ttfamily \#include $<$stack$>$}\newline
{\ttfamily \#include $<$string$>$}\newline
{\ttfamily \#include $<$vector$>$}\newline
{\ttfamily \#include "{}../classes/student.\+h"{}}\newline
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{keepAllChanges_8h_a0d7be745a79352f09a646647b7324c10}{make\+Backup}} ()
\begin{DoxyCompactList}\small\item\em Creates a backup of the "{}students\+\_\+classes.\+csv"{} file with the lastest archive modified. The backup file is named with the current system date. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{keepAllChanges_8h_abab6424383f51b14362476ac5d103f80}{order\+Vector}} (const std\+::string \&str1, const std\+::string \&str2)
\begin{DoxyCompactList}\small\item\em Compare two strings in descending order. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{keepAllChanges_8h_a7e4e7a4e456388acb38f53150b8f3263}{keep\+All\+Changes}} (std\+::map$<$ std\+::string, \mbox{\hyperlink{classmyStudent}{my\+Student}} $>$ \&\mbox{\hyperlink{menu_8cpp_aebf917ceeecc043cb38f38cde0cab8f4}{students}}, std\+::stack$<$ \mbox{\hyperlink{structalter}{alter}} $>$ \&\mbox{\hyperlink{menu_8cpp_a5f5e2d953fb6588ae0bace0b175aac0a}{stack\+Alter}})
\begin{DoxyCompactList}\small\item\em Saves all changes made to the student tree in the "{}students\+\_\+classes.\+csv"{} file. \end{DoxyCompactList}\item 
std\+::string \mbox{\hyperlink{keepAllChanges_8h_ac86cfff9eeef3da6791d250e6bf7220e}{get\+Sysdate}} ()
\begin{DoxyCompactList}\small\item\em Get the system date. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{keepAllChanges_8h_a4c6b7c97de3fb5556fe31c92261e77b7}{list\+All\+Backups}} ()
\begin{DoxyCompactList}\small\item\em List all backup files. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{keepAllChanges_8h_a4b79c42795dce5ebc842c882715c30a8}{print\+Changes}} (int cd\+Bkp)
\begin{DoxyCompactList}\small\item\em Print the changes from backup files. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{keepAllChanges_8h_a107f44c0b7fc6d12c287dfcc850ad6ac}{print\+All\+Backups}} ()
\begin{DoxyCompactList}\small\item\em Prints all backup file names stored in the public vector backups. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{keepAllChanges_8h_a249b75801b03223ccb8b0726b949e582}{backup\+File}} (int cd\+Bkp)
\begin{DoxyCompactList}\small\item\em Backup a specific file and remove related changes. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{keepAllChanges_8h_a9477815d2fc22e5dff6d48710dc3e85b}{keep\+All\+Changes}} (std\+::map$<$ std\+::string, \mbox{\hyperlink{classmyStudent}{my\+Student}} $>$ \&\mbox{\hyperlink{menu_8cpp_aebf917ceeecc043cb38f38cde0cab8f4}{students}})
\end{DoxyCompactItemize}


\doxysubsection{Function Documentation}
\Hypertarget{keepAllChanges_8h_a249b75801b03223ccb8b0726b949e582}\label{keepAllChanges_8h_a249b75801b03223ccb8b0726b949e582} 
\index{keepAllChanges.h@{keepAllChanges.h}!backupFile@{backupFile}}
\index{backupFile@{backupFile}!keepAllChanges.h@{keepAllChanges.h}}
\doxysubsubsection{\texorpdfstring{backupFile()}{backupFile()}}
{\footnotesize\ttfamily void backup\+File (\begin{DoxyParamCaption}\item[{int}]{cd\+Bkp }\end{DoxyParamCaption})}



Backup a specific file and remove related changes. 

This function backs up a specified file from "{}schedule/backup"{} to "{}schedule/students\+\_\+classes.\+csv"{} and removes related change files in the "{}schedule/alter"{} and "{}schedule/backup"{} directories.


\begin{DoxyParams}{Parameters}
{\em cd\+Bkp} & The index of the backup file to restore. \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{keepAllChanges_8cpp_source_l00204}{204}} of file \mbox{\hyperlink{keepAllChanges_8cpp_source}{keep\+All\+Changes.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00204\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00205\ }
\DoxyCodeLine{00206\ \ \ std::string\ path\ =\ \textcolor{stringliteral}{"{}schedule/backup/"{}}\ +\ \mbox{\hyperlink{keepAllChanges_8cpp_a3b2cd2c5dafc2029b2396f49211cf166}{backups}}[cdBkp];}
\DoxyCodeLine{00207\ }
\DoxyCodeLine{00208\ \ \ std::ifstream\ backup(path,\ std::ios::binary);}
\DoxyCodeLine{00209\ }
\DoxyCodeLine{00210\ \ \ \textcolor{keywordflow}{if}\ (!backup)\ \{}
\DoxyCodeLine{00211\ \ \ \ \ std::cerr\ <<\ \textcolor{stringliteral}{"{}Error\ opening\ file"{}}\ <<\ std::endl;}
\DoxyCodeLine{00212\ \ \ \}}
\DoxyCodeLine{00213\ }
\DoxyCodeLine{00214\ \ \ std::ofstream\ file(\textcolor{stringliteral}{"{}schedule/students\_classes.csv"{}},\ std::ios::binary);}
\DoxyCodeLine{00215\ }
\DoxyCodeLine{00216\ \ \ \textcolor{keywordflow}{if}\ (!file)\ \{}
\DoxyCodeLine{00217\ \ \ \ \ std::cerr\ <<\ \textcolor{stringliteral}{"{}Error\ opening\ file"{}}\ <<\ std::endl;}
\DoxyCodeLine{00218\ \ \ \}}
\DoxyCodeLine{00219\ }
\DoxyCodeLine{00220\ \ \ file\ <<\ backup.rdbuf();}
\DoxyCodeLine{00221\ \ \ file.close();}
\DoxyCodeLine{00222\ \ \ backup.close();}
\DoxyCodeLine{00223\ }
\DoxyCodeLine{00224\ \ \ \textcolor{keywordtype}{unsigned}\ size\ =\ cdBkp;}
\DoxyCodeLine{00225\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{unsigned}\ i\ =\ 0;\ i\ <=\ size;\ i++)\ \{}
\DoxyCodeLine{00226\ \ \ \ \ \textcolor{keywordflow}{if}\ (std::filesystem::exists(\textcolor{stringliteral}{"{}schedule/alter/"{}}\ +\ \mbox{\hyperlink{keepAllChanges_8cpp_a3b2cd2c5dafc2029b2396f49211cf166}{backups}}[cdBkp]))\ \{}
\DoxyCodeLine{00227\ \ \ \ \ \ \ \textcolor{keywordflow}{try}\ \{}
\DoxyCodeLine{00228\ \ \ \ \ \ \ \ \ std::filesystem::remove(\textcolor{stringliteral}{"{}schedule/alter/"{}}\ +\ \mbox{\hyperlink{keepAllChanges_8cpp_a3b2cd2c5dafc2029b2396f49211cf166}{backups}}[i]);}
\DoxyCodeLine{00229\ \ \ \ \ \ \ \ \ std::filesystem::remove(\textcolor{stringliteral}{"{}schedule/backup/"{}}\ +\ \mbox{\hyperlink{keepAllChanges_8cpp_a3b2cd2c5dafc2029b2396f49211cf166}{backups}}[i]);}
\DoxyCodeLine{00230\ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{catch}\ (\textcolor{keyword}{const}\ std::filesystem::filesystem\_error\ \&e)\ \{}
\DoxyCodeLine{00231\ \ \ \ \ \ \ \ \ std::cerr\ <<\ \textcolor{stringliteral}{"{}Error\ to\ remove\ the\ file"{}}\ <<\ e.what()\ <<\ std::endl;}
\DoxyCodeLine{00232\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00233\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00234\ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}The\ file\ of\ changes\ not\ exist"{}}\ <<\ std::endl;}
\DoxyCodeLine{00235\ \ \ \ \ \}}
\DoxyCodeLine{00236\ \ \ \}}
\DoxyCodeLine{00237\ \}}

\end{DoxyCode}
\Hypertarget{keepAllChanges_8h_ac86cfff9eeef3da6791d250e6bf7220e}\label{keepAllChanges_8h_ac86cfff9eeef3da6791d250e6bf7220e} 
\index{keepAllChanges.h@{keepAllChanges.h}!getSysdate@{getSysdate}}
\index{getSysdate@{getSysdate}!keepAllChanges.h@{keepAllChanges.h}}
\doxysubsubsection{\texorpdfstring{getSysdate()}{getSysdate()}}
{\footnotesize\ttfamily std\+::string get\+Sysdate (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Get the system date. 

\begin{DoxyReturn}{Returns}
A string with the system date. 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{keepAllChanges_8cpp_source_l00022}{22}} of file \mbox{\hyperlink{keepAllChanges_8cpp_source}{keep\+All\+Changes.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00022\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00023\ }
\DoxyCodeLine{00024\ \ \ std::time\_t\ date\ =\ std::time(0);}
\DoxyCodeLine{00025\ \ \ std::tm\ *now\ =\ std::localtime(\&date);}
\DoxyCodeLine{00026\ }
\DoxyCodeLine{00027\ \ \ \textcolor{keywordflow}{return}\ std::to\_string(now-\/>tm\_year\ +\ 1900)\ +\ \textcolor{stringliteral}{"{}-\/"{}}\ +}
\DoxyCodeLine{00028\ \ \ \ \ \ \ \ \ \ std::to\_string(now-\/>tm\_mon\ +\ 1)\ +\ \textcolor{stringliteral}{"{}-\/"{}}\ +\ std::to\_string(now-\/>tm\_mday)\ +}
\DoxyCodeLine{00029\ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}-\/"{}}\ +\ std::to\_string(now-\/>tm\_hour)\ +\ \textcolor{stringliteral}{"{}:"{}}\ +}
\DoxyCodeLine{00030\ \ \ \ \ \ \ \ \ \ std::to\_string(now-\/>tm\_min)\ +\ \textcolor{stringliteral}{"{}:"{}}\ +\ std::to\_string(now-\/>tm\_sec);}
\DoxyCodeLine{00031\ \}}

\end{DoxyCode}
\Hypertarget{keepAllChanges_8h_a9477815d2fc22e5dff6d48710dc3e85b}\label{keepAllChanges_8h_a9477815d2fc22e5dff6d48710dc3e85b} 
\index{keepAllChanges.h@{keepAllChanges.h}!keepAllChanges@{keepAllChanges}}
\index{keepAllChanges@{keepAllChanges}!keepAllChanges.h@{keepAllChanges.h}}
\doxysubsubsection{\texorpdfstring{keepAllChanges()}{keepAllChanges()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily void keep\+All\+Changes (\begin{DoxyParamCaption}\item[{std\+::map$<$ std\+::string, \mbox{\hyperlink{classmyStudent}{my\+Student}} $>$ \&}]{students }\end{DoxyParamCaption})}

\Hypertarget{keepAllChanges_8h_a7e4e7a4e456388acb38f53150b8f3263}\label{keepAllChanges_8h_a7e4e7a4e456388acb38f53150b8f3263} 
\index{keepAllChanges.h@{keepAllChanges.h}!keepAllChanges@{keepAllChanges}}
\index{keepAllChanges@{keepAllChanges}!keepAllChanges.h@{keepAllChanges.h}}
\doxysubsubsection{\texorpdfstring{keepAllChanges()}{keepAllChanges()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily void keep\+All\+Changes (\begin{DoxyParamCaption}\item[{std\+::map$<$ std\+::string, \mbox{\hyperlink{classmyStudent}{my\+Student}} $>$ \&}]{students,  }\item[{std\+::stack$<$ \mbox{\hyperlink{structalter}{alter}} $>$ \&}]{stack\+Alter }\end{DoxyParamCaption})}



Saves all changes made to the student tree in the "{}students\+\_\+classes.\+csv"{} file. 


\begin{DoxyParams}{Parameters}
{\em students} & Reference to the map containing student data. \\
\hline
{\em stack\+Alter} & Reference to a stack containing alteration records. \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{keepAllChanges_8cpp_source_l00069}{69}} of file \mbox{\hyperlink{keepAllChanges_8cpp_source}{keep\+All\+Changes.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00070\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00071\ \ \ \mbox{\hyperlink{keepAllChanges_8cpp_a0d7be745a79352f09a646647b7324c10}{makeBackup}}();}
\DoxyCodeLine{00072\ \ \ std::ofstream\ \mbox{\hyperlink{structalter}{alter}}(\textcolor{stringliteral}{"{}schedule/alter/students\_classes-\/"{}}\ +\ \mbox{\hyperlink{keepAllChanges_8cpp_ac86cfff9eeef3da6791d250e6bf7220e}{getSysdate}}()\ +}
\DoxyCodeLine{00073\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}.csv"{}},}
\DoxyCodeLine{00074\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::ios::app);}
\DoxyCodeLine{00075\ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{structalter}{alter}}.is\_open())\ \{}
\DoxyCodeLine{00076\ \ \ \ \ std::cerr\ <<\ \textcolor{stringliteral}{"{}Error\ opening\ file"{}}\ <<\ std::endl;}
\DoxyCodeLine{00077\ \ \ \}}
\DoxyCodeLine{00078\ }
\DoxyCodeLine{00079\ \ \ \textcolor{keywordflow}{while}\ (!\mbox{\hyperlink{menu_8cpp_a5f5e2d953fb6588ae0bace0b175aac0a}{stackAlter}}.empty())\ \{}
\DoxyCodeLine{00080\ \ \ \ \ \mbox{\hyperlink{structalter}{alter}}\ <<\ \textcolor{stringliteral}{"{}The\ student:\ "{}}\ <<\ \mbox{\hyperlink{menu_8cpp_a5f5e2d953fb6588ae0bace0b175aac0a}{stackAlter}}.top().\mbox{\hyperlink{structalter_ad17141f8e6730368007cb8dc67147cb6}{studentCode}}\ <<\ \textcolor{stringliteral}{"{}\ -\/\ "{}}}
\DoxyCodeLine{00081\ \ \ \ \ \ \ \ \ \ \ <<\ \mbox{\hyperlink{menu_8cpp_a5f5e2d953fb6588ae0bace0b175aac0a}{stackAlter}}.top().studentName\ <<\ \textcolor{stringliteral}{"{}\ "{}}\ <<\ \mbox{\hyperlink{menu_8cpp_a5f5e2d953fb6588ae0bace0b175aac0a}{stackAlter}}.top().type}
\DoxyCodeLine{00082\ \ \ \ \ \ \ \ \ \ \ <<\ \textcolor{stringliteral}{"{}\ UC:\ "{}}\ <<\ \mbox{\hyperlink{menu_8cpp_a5f5e2d953fb6588ae0bace0b175aac0a}{stackAlter}}.top().ucCode}
\DoxyCodeLine{00083\ \ \ \ \ \ \ \ \ \ \ <<\ \textcolor{stringliteral}{"{}\ Class:\ "{}}\ <<\ \mbox{\hyperlink{menu_8cpp_a5f5e2d953fb6588ae0bace0b175aac0a}{stackAlter}}.top().classCode\ <<\ std::endl;}
\DoxyCodeLine{00084\ \ \ \ \ \mbox{\hyperlink{menu_8cpp_a5f5e2d953fb6588ae0bace0b175aac0a}{stackAlter}}.pop();}
\DoxyCodeLine{00085\ \ \ \}}
\DoxyCodeLine{00086\ }
\DoxyCodeLine{00087\ \ \ std::ofstream\ file(\textcolor{stringliteral}{"{}schedule/students\_classes.csv"{}});}
\DoxyCodeLine{00088\ }
\DoxyCodeLine{00089\ \ \ \textcolor{keywordflow}{if}\ (!file.is\_open())\ \{}
\DoxyCodeLine{00090\ \ \ \ \ std::cerr\ <<\ \textcolor{stringliteral}{"{}Error\ opening\ file"{}}\ <<\ std::endl;}
\DoxyCodeLine{00091\ \ \ \}}
\DoxyCodeLine{00092\ }
\DoxyCodeLine{00093\ \ \ \textcolor{comment}{//\ Header}}
\DoxyCodeLine{00094\ \ \ file\ <<\ \textcolor{stringliteral}{"{}StudentCode,StudentName,UcCode,ClassCode"{}}\ <<\ std::endl;}
\DoxyCodeLine{00095\ }
\DoxyCodeLine{00096\ \ \ \textcolor{comment}{//\ Write\ the\ tree\ in\ the\ file}}
\DoxyCodeLine{00097\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{auto}\ it\ =\ \mbox{\hyperlink{menu_8cpp_aebf917ceeecc043cb38f38cde0cab8f4}{students}}.begin();\ it\ !=\ \mbox{\hyperlink{menu_8cpp_aebf917ceeecc043cb38f38cde0cab8f4}{students}}.end();\ it++)\ \{}
\DoxyCodeLine{00098\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{auto}\ classe\ :\ it-\/>second.getClasses())\ \{}
\DoxyCodeLine{00099\ \ \ \ \ \ \ file\ <<\ it-\/>second.getStudentCode()\ <<\ \textcolor{stringliteral}{"{},"{}}\ <<\ it-\/>second.getStudentName()}
\DoxyCodeLine{00100\ \ \ \ \ \ \ \ \ \ \ \ <<\ \textcolor{stringliteral}{"{},"{}}\ <<\ classe.getUcCode()\ <<\ \textcolor{stringliteral}{"{},"{}}\ <<\ classe.getClassCode()}
\DoxyCodeLine{00101\ \ \ \ \ \ \ \ \ \ \ \ <<\ std::endl;}
\DoxyCodeLine{00102\ \ \ \ \ \}}
\DoxyCodeLine{00103\ \ \ \}}
\DoxyCodeLine{00104\ \}}

\end{DoxyCode}
\Hypertarget{keepAllChanges_8h_a4c6b7c97de3fb5556fe31c92261e77b7}\label{keepAllChanges_8h_a4c6b7c97de3fb5556fe31c92261e77b7} 
\index{keepAllChanges.h@{keepAllChanges.h}!listAllBackups@{listAllBackups}}
\index{listAllBackups@{listAllBackups}!keepAllChanges.h@{keepAllChanges.h}}
\doxysubsubsection{\texorpdfstring{listAllBackups()}{listAllBackups()}}
{\footnotesize\ttfamily void list\+All\+Backups (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



List all backup files. 

If no backup files exist, this function searches for and populates the \textquotesingle{}backups\textquotesingle{} vector with filenames from the "{}schedule/backup"{} directory. 

Definition at line \mbox{\hyperlink{keepAllChanges_8cpp_source_l00115}{115}} of file \mbox{\hyperlink{keepAllChanges_8cpp_source}{keep\+All\+Changes.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00115\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00116\ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{keepAllChanges_8cpp_a3b2cd2c5dafc2029b2396f49211cf166}{backups}}.size()\ ==\ 0)\ \{}
\DoxyCodeLine{00117\ \ \ \ \ std::string\ way\ =\ \textcolor{stringliteral}{"{}schedule/backup"{}};}
\DoxyCodeLine{00118\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{const}\ \textcolor{keyword}{auto}\ \&in\ :\ std::filesystem::directory\_iterator(way))\ \{}
\DoxyCodeLine{00119\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (std::filesystem::is\_regular\_file(in))\ \{}
\DoxyCodeLine{00120\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{keepAllChanges_8cpp_a3b2cd2c5dafc2029b2396f49211cf166}{backups}}.push\_back(in.path().filename().string());}
\DoxyCodeLine{00121\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00122\ \ \ \ \ \}}
\DoxyCodeLine{00123\ \ \ \ \ std::sort(\mbox{\hyperlink{keepAllChanges_8cpp_a3b2cd2c5dafc2029b2396f49211cf166}{backups}}.begin(),\ \mbox{\hyperlink{keepAllChanges_8cpp_a3b2cd2c5dafc2029b2396f49211cf166}{backups}}.end(),\ \mbox{\hyperlink{keepAllChanges_8cpp_abab6424383f51b14362476ac5d103f80}{orderVector}});}
\DoxyCodeLine{00124\ \ \ \}}
\DoxyCodeLine{00125\ \}}

\end{DoxyCode}
\Hypertarget{keepAllChanges_8h_a0d7be745a79352f09a646647b7324c10}\label{keepAllChanges_8h_a0d7be745a79352f09a646647b7324c10} 
\index{keepAllChanges.h@{keepAllChanges.h}!makeBackup@{makeBackup}}
\index{makeBackup@{makeBackup}!keepAllChanges.h@{keepAllChanges.h}}
\doxysubsubsection{\texorpdfstring{makeBackup()}{makeBackup()}}
{\footnotesize\ttfamily void make\+Backup (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Creates a backup of the "{}students\+\_\+classes.\+csv"{} file with the lastest archive modified. The backup file is named with the current system date. 



Definition at line \mbox{\hyperlink{keepAllChanges_8cpp_source_l00038}{38}} of file \mbox{\hyperlink{keepAllChanges_8cpp_source}{keep\+All\+Changes.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00038\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00039\ \ \ std::ifstream\ file(\textcolor{stringliteral}{"{}schedule/students\_classes.csv"{}},\ std::ios::binary);}
\DoxyCodeLine{00040\ }
\DoxyCodeLine{00041\ \ \ \textcolor{keywordflow}{if}\ (!file)\ \{}
\DoxyCodeLine{00042\ \ \ \ \ std::cerr\ <<\ \textcolor{stringliteral}{"{}Error\ opening\ file"{}}\ <<\ std::endl;}
\DoxyCodeLine{00043\ \ \ \}}
\DoxyCodeLine{00044\ }
\DoxyCodeLine{00045\ \ \ std::string\ dateString\ =\ \mbox{\hyperlink{keepAllChanges_8cpp_ac86cfff9eeef3da6791d250e6bf7220e}{getSysdate}}();}
\DoxyCodeLine{00046\ }
\DoxyCodeLine{00047\ \ \ std::string\ backupName\ =}
\DoxyCodeLine{00048\ \ \ \ \ \ \ \textcolor{stringliteral}{"{}schedule/backup/students\_classes-\/"{}}\ +\ dateString\ +\ \textcolor{stringliteral}{"{}.csv"{}};}
\DoxyCodeLine{00049\ \ \ std::ofstream\ backup(backupName,\ std::ios::binary);}
\DoxyCodeLine{00050\ }
\DoxyCodeLine{00051\ \ \ \textcolor{keywordflow}{if}\ (!backup)\ \{}
\DoxyCodeLine{00052\ \ \ \ \ std::cerr\ <<\ \textcolor{stringliteral}{"{}Error\ to\ create\ a\ backup\ file"{}}\ <<\ std::endl;}
\DoxyCodeLine{00053\ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00054\ \ \ \}}
\DoxyCodeLine{00055\ }
\DoxyCodeLine{00056\ \ \ backup\ <<\ file.rdbuf();}
\DoxyCodeLine{00057\ \ \ file.close();}
\DoxyCodeLine{00058\ \ \ backup.close();}
\DoxyCodeLine{00059\ \}}

\end{DoxyCode}
\Hypertarget{keepAllChanges_8h_abab6424383f51b14362476ac5d103f80}\label{keepAllChanges_8h_abab6424383f51b14362476ac5d103f80} 
\index{keepAllChanges.h@{keepAllChanges.h}!orderVector@{orderVector}}
\index{orderVector@{orderVector}!keepAllChanges.h@{keepAllChanges.h}}
\doxysubsubsection{\texorpdfstring{orderVector()}{orderVector()}}
{\footnotesize\ttfamily bool order\+Vector (\begin{DoxyParamCaption}\item[{const std\+::string \&}]{str1,  }\item[{const std\+::string \&}]{str2 }\end{DoxyParamCaption})}



Compare two strings in descending order. 


\begin{DoxyParams}{Parameters}
{\em str1} & The first string to compare. \\
\hline
{\em str2} & The second string to compare. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
True if \textquotesingle{}str1\textquotesingle{} is greater than \textquotesingle{}str2\textquotesingle{}, otherwise false. 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{keepAllChanges_8cpp_source_l00013}{13}} of file \mbox{\hyperlink{keepAllChanges_8cpp_source}{keep\+All\+Changes.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00013\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00014\ \ \ \textcolor{keywordflow}{return}\ str1\ >\ str2;}
\DoxyCodeLine{00015\ \}}

\end{DoxyCode}
\Hypertarget{keepAllChanges_8h_a107f44c0b7fc6d12c287dfcc850ad6ac}\label{keepAllChanges_8h_a107f44c0b7fc6d12c287dfcc850ad6ac} 
\index{keepAllChanges.h@{keepAllChanges.h}!printAllBackups@{printAllBackups}}
\index{printAllBackups@{printAllBackups}!keepAllChanges.h@{keepAllChanges.h}}
\doxysubsubsection{\texorpdfstring{printAllBackups()}{printAllBackups()}}
{\footnotesize\ttfamily bool print\+All\+Backups (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Prints all backup file names stored in the public vector backups. 



Definition at line \mbox{\hyperlink{keepAllChanges_8cpp_source_l00132}{132}} of file \mbox{\hyperlink{keepAllChanges_8cpp_source}{keep\+All\+Changes.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00132\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00133\ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{keepAllChanges_8cpp_a3b2cd2c5dafc2029b2396f49211cf166}{backups}}.size()\ !=\ 0)\ \{}
\DoxyCodeLine{00134\ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}Backups:\ "{}}\ <<\ std::endl;}
\DoxyCodeLine{00135\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{unsigned}\ i\ =\ 0;\ i\ <\ \mbox{\hyperlink{keepAllChanges_8cpp_a3b2cd2c5dafc2029b2396f49211cf166}{backups}}.size();\ i++)\ \{}
\DoxyCodeLine{00136\ \ \ \ \ \ \ std::cout\ <<\ i\ <<\ \textcolor{stringliteral}{"{}\ -\/\ "{}}\ <<\ \mbox{\hyperlink{keepAllChanges_8cpp_a3b2cd2c5dafc2029b2396f49211cf166}{backups}}.at(i)\ <<\ std::endl;}
\DoxyCodeLine{00137\ \ \ \ \ \}}
\DoxyCodeLine{00138\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00139\ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00140\ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}No\ backups"{}}\ <<\ std::endl;}
\DoxyCodeLine{00141\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00142\ \ \ \}}
\DoxyCodeLine{00143\ \}}

\end{DoxyCode}
\Hypertarget{keepAllChanges_8h_a4b79c42795dce5ebc842c882715c30a8}\label{keepAllChanges_8h_a4b79c42795dce5ebc842c882715c30a8} 
\index{keepAllChanges.h@{keepAllChanges.h}!printChanges@{printChanges}}
\index{printChanges@{printChanges}!keepAllChanges.h@{keepAllChanges.h}}
\doxysubsubsection{\texorpdfstring{printChanges()}{printChanges()}}
{\footnotesize\ttfamily void print\+Changes (\begin{DoxyParamCaption}\item[{int}]{cd\+Bkp }\end{DoxyParamCaption})}



Print the changes from backup files. 

This function prints the content of backup files located in the "{}schedule/alter"{} directory, up to the specified \textquotesingle{}cd\+Bkp\textquotesingle{} index, to the standard output.


\begin{DoxyParams}{Parameters}
{\em cd\+Bkp} & The index of the backup files to print. \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{keepAllChanges_8cpp_source_l00158}{158}} of file \mbox{\hyperlink{keepAllChanges_8cpp_source}{keep\+All\+Changes.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00158\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00159\ \ \ \textcolor{keywordtype}{unsigned}\ size\ =\ cdBkp;}
\DoxyCodeLine{00160\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{unsigned}\ i\ =\ 0;\ i\ <=\ size;\ i++)\ \{}
\DoxyCodeLine{00161\ \ \ \ \ std::ifstream\ file(\textcolor{stringliteral}{"{}schedule/alter/"{}}\ +\ \mbox{\hyperlink{keepAllChanges_8cpp_a3b2cd2c5dafc2029b2396f49211cf166}{backups}}[i],\ std::ios::binary);}
\DoxyCodeLine{00162\ }
\DoxyCodeLine{00163\ \ \ \ \ \textcolor{keywordflow}{if}\ (!file)\ \{}
\DoxyCodeLine{00164\ \ \ \ \ \ \ std::cerr\ <<\ \textcolor{stringliteral}{"{}Error\ opening\ file"{}}\ <<\ std::endl;}
\DoxyCodeLine{00165\ \ \ \ \ \}}
\DoxyCodeLine{00166\ }
\DoxyCodeLine{00167\ \ \ \ \ std::string\ line;}
\DoxyCodeLine{00168\ }
\DoxyCodeLine{00169\ \ \ \ \ \textcolor{keywordflow}{while}\ (std::getline(file,\ line))\ \{}
\DoxyCodeLine{00170\ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}\ \ \ "{}}\ <<\ line\ <<\ std::endl;}
\DoxyCodeLine{00171\ \ \ \ \ \}}
\DoxyCodeLine{00172\ \ \ \ \ file.close();}
\DoxyCodeLine{00173\ \ \ \}}
\DoxyCodeLine{00174\ }
\DoxyCodeLine{00175\ \ \ \textcolor{comment}{//\ //\ Write\ the\ tree\ in\ the\ file}}
\DoxyCodeLine{00176\ \ \ \textcolor{comment}{//\ for\ (auto\ it\ =\ students.begin();\ it\ !=\ students.end();\ it++)\ \{}}
\DoxyCodeLine{00177\ \ \ \textcolor{comment}{//\ \ \ //\ for\ (auto\ classe\ :\ it-\/>second.getClasses())\ \{}}
\DoxyCodeLine{00178\ \ \ \textcolor{comment}{//\ \ \ //\ \ \ //\ std::cout<<\ it-\/>second.getCode()\ <<\ "{},"{}\ <<\ it-\/>second.getName()}}
\DoxyCodeLine{00179\ \ \ \textcolor{comment}{//\ \ \ <<}}
\DoxyCodeLine{00180\ \ \ \textcolor{comment}{//\ \ \ //\ \ \ "{},"{}}}
\DoxyCodeLine{00181\ \ \ \textcolor{comment}{//\ \ \ //\ \ \ //\ <<\ classe.getUcCode()\ <<\ "{},"{}\ <<\ classe.getClassCode()\ <<}}
\DoxyCodeLine{00182\ \ \ \textcolor{comment}{//\ \ \ std::endl;}}
\DoxyCodeLine{00183\ \ \ \textcolor{comment}{//\ \ \ //\ \ \ file\ <<\ it-\/>second.getStudentCode()\ <<\ "{},"{}\ <<}}
\DoxyCodeLine{00184\ \ \ \textcolor{comment}{//\ \ \ //\ \ \ it-\/>second.getStudentName()\ <<\ "{},"{}}}
\DoxyCodeLine{00185\ \ \ \textcolor{comment}{//\ \ \ //\ \ \ \ \ \ \ \ <<\ classe.getUcCode()\ <<\ "{},"{}\ <<\ classe.getClassCode()\ <<}}
\DoxyCodeLine{00186\ \ \ \textcolor{comment}{//\ \ \ //\ \ \ \ \ \ \ \ std::endl;}}
\DoxyCodeLine{00187\ \ \ \textcolor{comment}{//\ \ \ //\ \}}}
\DoxyCodeLine{00188\ \ \ \textcolor{comment}{//\ \}}}
\DoxyCodeLine{00189\ \}}

\end{DoxyCode}
